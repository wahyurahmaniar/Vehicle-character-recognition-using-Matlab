%==========================================================================
function Cell = crop(Ibox3,image_file)
%==========================================================================
global i1 i2 i3 i4 i5 i6 i7 i8
Ic=rgb2gray(image_file);
if size((Ibox3),2)==3
    i1=imcrop(Ic,Ibox3(:,1));
    i1a=zoning(i1);
    i2=imcrop(Ic,Ibox3(:,2));
    i2a=zoning(i2);
    i3=imcrop(Ic,Ibox3(:,3));
    i3a=zoning(i3);
    i4=ones(80,60);
    i5=ones(80,60);
    i6=ones(80,60);
    i7=ones(80,60);
    i8=ones(80,60);
    Cell={i1a,i2a,i3a};
    %Cell=[i1,i2,i3];
elseif size((Ibox3),2)==4
    i1=imcrop(Ic,Ibox3(:,1));
    i1a=zoning(i1);
    i2=imcrop(Ic,Ibox3(:,2));
    i2a=zoning(i2);
    i3=imcrop(Ic,Ibox3(:,3));
    i3a=zoning(i3);
    i4=imcrop(Ic,Ibox3(:,4));
    i4a=zoning(i4);
    i5=ones(80,60);
    i6=ones(80,60);
    i7=ones(80,60);
    i8=ones(80,60);
    Cell={i1a,i2a,i3a,i4a};
    %Cell=[i1,i2,i3,i4];
elseif size((Ibox3),2)==5
    i1=imcrop(Ic,Ibox3(:,1));
    i1a=zoning(i1);
    i2=imcrop(Ic,Ibox3(:,2));
    i2a=zoning(i2);
    i3=imcrop(Ic,Ibox3(:,3));
    i3a=zoning(i3);
    i4=imcrop(Ic,Ibox3(:,4));
    i4a=zoning(i4);
    i5=imcrop(Ic,Ibox3(:,5));
    i5a=zoning(i5);
    i6=ones(80,60);
    i7=ones(80,60);
    i8=ones(80,60);
    Cell={i1a,i2a,i3a,i4a,i5a};
    %Cell=[i1,i2,i3,i4,i5];
elseif size((Ibox3),2)==6
    i1=imcrop(Ic,Ibox3(:,1));
    i1a=zoning(i1);
    i2=imcrop(Ic,Ibox3(:,2));
    i2a=zoning(i2);
    i3=imcrop(Ic,Ibox3(:,3));
    i3a=zoning(i3);
    i4=imcrop(Ic,Ibox3(:,4));
    i4a=zoning(i4);
    i5=imcrop(Ic,Ibox3(:,5));
    i5a=zoning(i5);
    i6=imcrop(Ic,Ibox3(:,6));
    i6a=zoning(i6);
    i7=ones(80,60);
    i8=ones(80,60);
    Cell={i1a,i2a,i3a,i4a,i5a,i6a};
    %Cell=[i1,i2,i3,i4,i5,i6];
elseif size((Ibox3),2)==7
    i1=imcrop(Ic,Ibox3(:,1));
    i1a=zoning(i1);
    i2=imcrop(Ic,Ibox3(:,2));
    i2a=zoning(i2);
    i3=imcrop(Ic,Ibox3(:,3));
    i3a=zoning(i3);
    i4=imcrop(Ic,Ibox3(:,4));
    i4a=zoning(i4);
    i5=imcrop(Ic,Ibox3(:,5));
    i5a=zoning(i5);
    i6=imcrop(Ic,Ibox3(:,6));
    i6a=zoning(i6);
    i7=imcrop(Ic,Ibox3(:,7));
    i7a=zoning(i7);
    i8=ones(80,60);
    Cell={i1a,i2a,i3a,i4a,i5a,i6a,i7a};
    %Cell=[i1,i2,i3,i4,i5,i6,i7];
elseif size((Ibox3),2)==8
    i1=imcrop(Ic,Ibox3(:,1));
    i1a=zoning(i1);
    i2=imcrop(Ic,Ibox3(:,2));
    i2a=zoning(i2);
    i3=imcrop(Ic,Ibox3(:,3));
    i3a=zoning(i3);
    i4=imcrop(Ic,Ibox3(:,4));
    i4a=zoning(i4);
    i5=imcrop(Ic,Ibox3(:,5));
    i5a=zoning(i5);
    i6=imcrop(Ic,Ibox3(:,6));
    i6a=zoning(i6);
    i7=imcrop(Ic,Ibox3(:,7));
    i7a=zoning(i7);
    i8=imcrop(Ic,Ibox3(:,8));
    i8a=zoning(i8);
    Cell={i1a,i2a,i3a,i4a,i5a,i6a,i7a,i8a};
    %Cell=[i1,i2,i3,i4,i5,i6,i7,i8];
end
%Cell = CellCrop;